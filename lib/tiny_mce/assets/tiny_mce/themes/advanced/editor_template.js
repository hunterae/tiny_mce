(function(o){var f=o.DOM,p=o.dom.Event,C=o.extend,s=o.each,A=o.util.Cookie,B,z=o.explode;o.ThemeManager.requireLangPack("advanced");o.create("tinymce.themes.AdvancedTheme",{sizes:[8,10,12,14,18,24,36],controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc","JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],
justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","InsertUnorderedList"],numlist:["numlist_desc","InsertOrderedList"],outdent:["outdent_desc","Outdent"],indent:["indent_desc","Indent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],undo:["undo_desc","Undo"],redo:["redo_desc","Redo"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],cleanup:["cleanup_desc","mceCleanup"],help:["help_desc","mceHelp"],code:["code_desc",
"mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","RemoveFormat"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],charmap:["charmap_desc","mceCharMap"],visualaid:["visualaid_desc","mceToggleVisualAid"],anchor:["anchor_desc","mceInsertAnchor"],newdocument:["newdocument_desc",
"mceNewDocument"],blockquote:["blockquote_desc","mceBlockQuote"]},stateControls:["bold","italic","underline","strikethrough","bullist","numlist","justifyleft","justifycenter","justifyright","justifyfull","sub","sup","blockquote"],init:function(a,c){var b=this,d,e,i;b.editor=a;b.url=c;b.onResolveName=new o.util.Dispatcher(this);b.settings=d=C({theme_advanced_path:true,theme_advanced_toolbar_location:"bottom",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect",
theme_advanced_buttons2:"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code",theme_advanced_buttons3:"hr,removeformat,visualaid,|,sub,sup,|,charmap",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"center",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",
theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:"1,2,3,4,5,6,7",readonly:a.settings.readonly},a.settings);if(!d.font_size_style_values)d.font_size_style_values="8pt,10pt,12pt,14pt,18pt,24pt,36pt";if(o.is(d.theme_advanced_font_sizes,"string")){d.font_size_style_values=o.explode(d.font_size_style_values);d.font_size_classes=o.explode(d.font_size_classes||"");i={};a.settings.theme_advanced_font_sizes=
d.theme_advanced_font_sizes;s(a.getParam("theme_advanced_font_sizes","","hash"),function(h,g){var n;if(g==h&&h>=1&&h<=7){g=h+" ("+b.sizes[h-1]+"pt)";n=d.font_size_classes[h-1];h=d.font_size_style_values[h-1]||b.sizes[h-1]+"pt"}if(/^\s*\./.test(h))n=h.replace(/\./g,"");i[g]=n?{"class":n}:{fontSize:h}});d.theme_advanced_font_sizes=i}if((e=d.theme_advanced_path_location)&&e!="none")d.theme_advanced_statusbar_location=d.theme_advanced_path_location;if(d.theme_advanced_statusbar_location=="none")d.theme_advanced_statusbar_location=
0;a.onInit.add(function(){a.settings.readonly||a.onNodeChange.add(b._nodeChanged,b);a.settings.content_css!==false&&a.dom.loadCSS(a.baseURI.toAbsolute("themes/advanced/skins/"+a.settings.skin+"/content.css"))});a.onSetProgressState.add(function(h,g,n){var j,k=h.id,r;if(g)b.progressTimer=setTimeout(function(){j=h.getContainer();j=j.insertBefore(f.create("DIV",{style:"position:relative"}),j.firstChild);r=f.get(h.id+"_tbl");f.add(j,"div",{id:k+"_blocker","class":"mceBlocker",style:{width:r.clientWidth+
2,height:r.clientHeight+2}});f.add(j,"div",{id:k+"_progress","class":"mceProgress",style:{left:r.clientWidth/2,top:r.clientHeight/2}})},n||0);else{f.remove(k+"_blocker");f.remove(k+"_progress");clearTimeout(b.progressTimer)}});f.loadCSS(d.editor_css?a.documentBaseURI.toAbsolute(d.editor_css):c+"/skins/"+a.settings.skin+"/ui.css");d.skin_variant&&f.loadCSS(c+"/skins/"+a.settings.skin+"/ui_"+d.skin_variant+".css")},createControl:function(a,c){var b;if(b=c.createControl(a))return b;switch(a){case "styleselect":return this._createStyleSelect();
case "formatselect":return this._createBlockFormats();case "fontselect":return this._createFontSelect();case "fontsizeselect":return this._createFontSizeSelect();case "forecolor":return this._createForeColorMenu();case "backcolor":return this._createBackColorMenu()}if(b=this.controls[a])return c.createButton(a,{title:"advanced."+b[0],cmd:b[1],ui:b[2],value:b[3]})},execCommand:function(a,c,b){if(a=this["_"+a]){a.call(this,c,b);return true}return false},_importClasses:function(){var a=this.editor,c=
a.controlManager.get("styleselect");c.getLength()==0&&s(a.dom.getClasses(),function(b,d){var e="style_"+d;a.formatter.register(e,{inline:"span",attributes:{"class":b["class"]},selector:"*"});c.add(b["class"],e)})},_createStyleSelect:function(){var a=this,c=a.editor,b;b=c.controlManager.createListBox("styleselect",{title:"advanced.style_select",onselect:function(d){var e=[];s(b.items,function(i){e.push(i.value)});c.focus();c.formatter.matchAll(e)[0]==d?c.formatter.remove(d):c.formatter.apply(d);return false}});
c.onInit.add(function(){var d=0,e=c.getParam("style_formats");e?s(e,function(i){var h,g=0;s(i,function(){g++});if(g>1){h=i.name=i.name||"style_"+d++;c.formatter.register(h,i);b.add(i.title,h)}else b.add(i.title)}):s(c.getParam("theme_advanced_styles","","hash"),function(i,h){var g;if(i){g="style_"+d++;c.formatter.register(g,{inline:"span",classes:i,selector:"*"});b.add(a.editor.translate(h),g)}})});b.getLength()==0&&b.onPostRender.add(function(d,e){if(b.NativeListBox)p.add(e.id,"focus",a._importClasses,
a);else{p.add(e.id+"_text","focus",a._importClasses,a);p.add(e.id+"_text","mousedown",a._importClasses,a);p.add(e.id+"_open","focus",a._importClasses,a);p.add(e.id+"_open","mousedown",a._importClasses,a)}});return b},_createFontSelect:function(){var a,c=this.editor;(a=c.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",onselect:function(b){c.execCommand("FontName",false,b);return false}}))&&s(c.getParam("theme_advanced_fonts",this.settings.theme_advanced_fonts,"hash"),function(b,
d){a.add(c.translate(d),b,{style:b.indexOf("dings")==-1?"font-family:"+b:""})});return a},_createFontSizeSelect:function(){var a=this,c=a.editor,b,d=0;(b=c.controlManager.createListBox("fontsizeselect",{title:"advanced.font_size",onselect:function(e){if(e["class"]){c.focus();c.formatter.toggle("fontsize_class",{value:e["class"]})}else c.execCommand("FontSize",false,e.fontSize);return false}}))&&s(a.settings.theme_advanced_font_sizes,function(e,i){var h=e.fontSize;if(h>=1&&h<=7)h=a.sizes[parseInt(h)-
1]+"pt";b.add(i,e,{style:"font-size:"+h,"class":"mceFontSize"+d++ +(" "+(e["class"]||""))})});return b},_createBlockFormats:function(){var a,c={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},b=this;(a=b.editor.controlManager.createListBox("formatselect",
{title:"advanced.block",cmd:"FormatBlock"}))&&s(b.editor.getParam("theme_advanced_blockformats",b.settings.theme_advanced_blockformats,"hash"),function(d,e){a.add(b.editor.translate(e!=d?e:c[d]),d,{"class":"mce_formatPreview mce_"+d})});return a},_createForeColorMenu:function(){var a,c=this,b=c.settings,d={},e;if(b.theme_advanced_more_colors)d.more_colors_func=function(){c._mceColorPicker(0,{color:a.value,func:function(i){a.setColor(i)}})};if(e=b.theme_advanced_text_colors)d.colors=e;if(b.theme_advanced_default_foreground_color)d.default_color=
b.theme_advanced_default_foreground_color;d.title="advanced.forecolor_desc";d.cmd="ForeColor";d.scope=this;return a=c.editor.controlManager.createColorSplitButton("forecolor",d)},_createBackColorMenu:function(){var a,c=this,b=c.settings,d={},e;if(b.theme_advanced_more_colors)d.more_colors_func=function(){c._mceColorPicker(0,{color:a.value,func:function(i){a.setColor(i)}})};if(e=b.theme_advanced_background_colors)d.colors=e;if(b.theme_advanced_default_background_color)d.default_color=b.theme_advanced_default_background_color;
d.title="advanced.backcolor_desc";d.cmd="HiliteColor";d.scope=this;return a=c.editor.controlManager.createColorSplitButton("backcolor",d)},renderUI:function(a){var c,b,d,e=this,i=e.editor,h=e.settings,g,n,j;c=n=f.create("span",{id:i.id+"_parent","class":"mceEditor "+i.settings.skin+"Skin"+(h.skin_variant?" "+i.settings.skin+"Skin"+e._ufirst(h.skin_variant):"")});f.boxModel||(c=f.add(c,"div",{"class":"mceOldBoxModel"}));c=g=f.add(c,"table",{id:i.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0});
c=d=f.add(c,"tbody");switch((h.theme_advanced_layout_manager||"").toLowerCase()){case "rowlayout":b=e._rowLayout(h,d,a);break;case "customlayout":b=i.execCallback("theme_advanced_custom_layout",h,d,a,n);break;default:b=e._simpleLayout(h,d,a,n)}c=a.targetNode;j=f.stdMode?g.getElementsByTagName("tr"):g.rows;f.addClass(j[0],"mceFirst");f.addClass(j[j.length-1],"mceLast");s(f.select("tr",d),function(k){f.addClass(k.firstChild,"mceFirst");f.addClass(k.childNodes[k.childNodes.length-1],"mceLast")});f.get(h.theme_advanced_toolbar_container)?
f.get(h.theme_advanced_toolbar_container).appendChild(n):f.insertAfter(n,c);p.add(i.id+"_path_row","click",function(k){k=k.target;if(k.nodeName=="A"){e._sel(k.className.replace(/^.*mcePath_([0-9]+).*$/,"$1"));return p.cancel(k)}});i.getParam("accessibility_focus")||p.add(f.add(n,"a",{href:"#"},"<!-- IE --\>"),"focus",function(){tinyMCE.get(i.id).focus()});if(h.theme_advanced_toolbar_location=="external")a.deltaHeight=0;e.deltaHeight=a.deltaHeight;a.targetNode=null;return{iframeContainer:b,editorContainer:i.id+
"_parent",sizeContainer:g,deltaHeight:a.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:o.majorVersion+"."+o.minorVersion}},resizeBy:function(a,c){var b=f.get(this.editor.id+"_tbl");this.resizeTo(b.clientWidth+a,b.clientHeight+c)},resizeTo:function(a,c){var b=this.editor,d=this.settings,e=f.get(b.id+"_tbl");b=f.get(b.id+"_ifr");a=Math.max(d.theme_advanced_resizing_min_width||100,a);c=Math.max(d.theme_advanced_resizing_min_height||
100,c);a=Math.min(d.theme_advanced_resizing_max_width||65535,a);c=Math.min(d.theme_advanced_resizing_max_height||65535,c);f.setStyle(e,"height","");f.setStyle(b,"height",c);if(d.theme_advanced_resize_horizontal){f.setStyle(e,"width","");f.setStyle(b,"width",a);a<e.clientWidth&&f.setStyle(b,"width",e.clientWidth)}},destroy:function(){var a=this.editor.id;p.clear(a+"_resize");p.clear(a+"_path_row");p.clear(a+"_external_close")},_simpleLayout:function(a,c,b,d){var e=this.editor,i=a.theme_advanced_toolbar_location,
h=a.theme_advanced_statusbar_location,g,n,j;if(a.readonly){g=f.add(c,"tr");return g=n=f.add(g,"td",{"class":"mceIframeContainer"})}i=="top"&&this._addToolbars(c,b);if(i=="external"){g=j=f.create("div",{style:"position:relative"});g=f.add(g,"div",{id:e.id+"_external","class":"mceExternalToolbar"});f.add(g,"a",{id:e.id+"_external_close",href:"javascript:;","class":"mceExternalClose"});g=f.add(g,"table",{id:e.id+"_tblext",cellSpacing:0,cellPadding:0});g=f.add(g,"tbody");d.firstChild.className=="mceOldBoxModel"?
d.firstChild.appendChild(j):d.insertBefore(j,d.firstChild);this._addToolbars(g,b);e.onMouseUp.add(function(){var k=f.get(e.id+"_external");f.show(k);f.hide(B);var r=p.add(e.id+"_external_close","click",function(){f.hide(e.id+"_external");p.remove(e.id+"_external_close","click",r)});f.show(k);f.setStyle(k,"top",0-f.getRect(e.id+"_tblext").h-1);f.hide(k);f.show(k);k.style.filter="";B=e.id+"_external";k=null})}h=="top"&&this._addStatusBar(c,b);if(!a.theme_advanced_toolbar_container){g=f.add(c,"tr");
g=n=f.add(g,"td",{"class":"mceIframeContainer"})}i=="bottom"&&this._addToolbars(c,b);h=="bottom"&&this._addStatusBar(c,b);return n},_rowLayout:function(a,c,b){var d=this,e,i,h=d.editor.controlManager,g,n,j,k;e=a.theme_advanced_containers_default_class||"";i=a.theme_advanced_containers_default_align||"center";s(z(a.theme_advanced_containers||""),function(r,u){var t=a["theme_advanced_container_"+r]||"";switch(t.toLowerCase()){case "mceeditor":g=f.add(c,"tr");g=n=f.add(g,"td",{"class":"mceIframeContainer"});
break;case "mceelementpath":d._addStatusBar(c,b);break;default:k=(a["theme_advanced_container_"+r+"_align"]||i).toLowerCase();k="mce"+d._ufirst(k);g=f.add(f.add(c,"tr"),"td",{"class":"mceToolbar "+(a["theme_advanced_container_"+r+"_class"]||e)+" "+k||i});j=h.createToolbar("toolbar"+u);d._addControls(t,j);f.setHTML(g,j.renderHTML());b.deltaHeight-=a.theme_advanced_row_height}});return n},_addControls:function(a,c){var b=this,d=b.settings,e,i=b.editor.controlManager;if(d.theme_advanced_disable&&!b._disabled){e=
{};s(z(d.theme_advanced_disable),function(h){e[h]=1});b._disabled=e}else e=b._disabled;s(z(a),function(h){if(!(e&&e[h]))if(h=="tablecontrols")s(["table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","split_cells","merge_cells"],function(g){(g=b.createControl(g,i))&&c.add(g)});else(h=b.createControl(h,i))&&c.add(h)})},_addToolbars:function(a,c){var b,d,e=this.editor,i=this.settings,h,g=e.controlManager,n,j=[];b=i.theme_advanced_toolbar_align.toLowerCase();
b="mce"+this._ufirst(b);n=f.add(f.add(a,"tr"),"td",{"class":"mceToolbar "+b});e.getParam("accessibility_focus")||j.push(f.createHTML("a",{href:"#",onfocus:"tinyMCE.get('"+e.id+"').focus();"},"<!-- IE --\>"));j.push(f.createHTML("a",{href:"#",accesskey:"q",title:e.getLang("advanced.toolbar_focus")},"<!-- IE --\>"));for(b=1;h=i["theme_advanced_buttons"+b];b++){d=g.createToolbar("toolbar"+b,{"class":"mceToolbarRow"+b});if(i["theme_advanced_buttons"+b+"_add"])h+=","+i["theme_advanced_buttons"+b+"_add"];
if(i["theme_advanced_buttons"+b+"_add_before"])h=i["theme_advanced_buttons"+b+"_add_before"]+","+h;this._addControls(h,d);j.push(d.renderHTML());c.deltaHeight-=i.theme_advanced_row_height}j.push(f.createHTML("a",{href:"#",accesskey:"z",title:e.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+e.id+"').focus();"},"<!-- IE --\>"));f.setHTML(n,j.join(""))},_addStatusBar:function(a,c){var b,d=this,e=d.editor,i=d.settings,h;b=f.add(a,"tr");b=h=f.add(b,"td",{"class":"mceStatusbar"});
b=f.add(b,"div",{id:e.id+"_path_row"},i.theme_advanced_path?e.translate("advanced.path")+": ":"&#160;");f.add(b,"a",{href:"#",accesskey:"x"});if(i.theme_advanced_resizing){f.add(h,"a",{id:e.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize"});i.theme_advanced_resizing_use_cookie&&e.onPostRender.add(function(){var g=A.getHash("TinyMCE_"+e.id+"_size");f.get(e.id+"_tbl");g&&d.resizeTo(g.cw,g.ch)});e.onPostRender.add(function(){p.add(e.id+"_resize","mousedown",function(g){function n(y){q=
l+(y.screenX-w);v=m+(y.screenY-x);d.resizeTo(q,v)}function j(){p.remove(f.doc,"mousemove",k);p.remove(e.getDoc(),"mousemove",r);p.remove(f.doc,"mouseup",u);p.remove(e.getDoc(),"mouseup",t);i.theme_advanced_resizing_use_cookie&&A.setHash("TinyMCE_"+e.id+"_size",{cw:q,ch:v})}var k,r,u,t,w,x,l,m,q,v;g.preventDefault();w=g.screenX;x=g.screenY;g=f.get(d.editor.id+"_ifr");l=q=g.clientWidth;m=v=g.clientHeight;k=p.add(f.doc,"mousemove",n);r=p.add(e.getDoc(),"mousemove",n);u=p.add(f.doc,"mouseup",j);t=p.add(e.getDoc(),
"mouseup",j)})})}c.deltaHeight-=21;b=a=null},_nodeChanged:function(a,c,b,d,e){function i(l){var m,q=e.parents,v=l;if(typeof l=="string")v=function(y){return y.nodeName==l};for(m=0;m<q.length;m++)if(v(q[m]))return q[m]}var h=this,g,n=0,j,k,r=h.settings,u,t,w,x;o.each(h.stateControls,function(l){c.setActive(l,a.queryCommandState(h.controls[l][1]))});c.setActive("visualaid",a.hasVisual);c.setDisabled("undo",!a.undoManager.hasUndo()&&!a.typing);c.setDisabled("redo",!a.undoManager.hasRedo());c.setDisabled("outdent",
!a.queryCommandState("Outdent"));g=i("A");if(k=c.get("link"))if(!g||!g.name){k.setDisabled(!g&&d);k.setActive(!!g)}if(k=c.get("unlink")){k.setDisabled(!g&&d);k.setActive(!!g&&!g.name)}if(k=c.get("anchor"))k.setActive(!!g&&g.name);g=i("IMG");if(k=c.get("image"))k.setActive(!!g&&b.className.indexOf("mceItem")==-1);if(k=c.get("styleselect")){h._importClasses();x=[];s(k.items,function(l){x.push(l.value)});d=a.formatter.matchAll(x);k.select(d[0])}if(k=c.get("formatselect"))(g=i(f.isBlock))&&k.select(g.nodeName.toLowerCase());
i(function(l){if(l.nodeName==="SPAN"){if(!u&&l.className)u=l.className;if(!t&&l.style.fontSize)t=l.style.fontSize;if(!w&&l.style.fontFamily)w=l.style.fontFamily.replace(/[\"\']+/g,"").replace(/^([^,]+).*/,"$1").toLowerCase()}return false});if(k=c.get("fontselect"))k.select(function(l){return l.replace(/^([^,]+).*/,"$1").toLowerCase()==w});if(k=c.get("fontsizeselect")){if(r.theme_advanced_runtime_fontsize&&!t&&!u)t=a.dom.getStyle(b,"fontSize",true);k.select(function(l){if(l.fontSize&&l.fontSize===
t)return true;if(l["class"]&&l["class"]===u)return true})}if(r.theme_advanced_path&&r.theme_advanced_statusbar_location){g=f.get(a.id+"_path")||f.add(a.id+"_path_row","span",{id:a.id+"_path"});f.setHTML(g,"");i(function(l){var m=l.nodeName.toLowerCase(),q="";if(!(l.nodeType!=1||l.nodeName==="BR"||f.hasClass(l,"mceItemHidden")||f.hasClass(l,"mceItemRemoved"))){if(j=f.getAttrib(l,"mce_name"))m=j;if(o.isIE&&l.scopeName!=="HTML")m=l.scopeName+":"+m;m=m.replace(/mce\:/g,"");switch(m){case "b":m="strong";
break;case "i":m="em";break;case "img":if(j=f.getAttrib(l,"src"))q+="src: "+j+" ";break;case "a":if(j=f.getAttrib(l,"name")){q+="name: "+j+" ";m+="#"+j}if(j=f.getAttrib(l,"href"))q+="href: "+j+" ";break;case "font":if(j=f.getAttrib(l,"face"))q+="font: "+j+" ";if(j=f.getAttrib(l,"size"))q+="size: "+j+" ";if(j=f.getAttrib(l,"color"))q+="color: "+j+" ";break;case "span":if(j=f.getAttrib(l,"style"))q+="style: "+j+" "}if(j=f.getAttrib(l,"id"))q+="id: "+j+" ";if(j=l.className)if(j=j.replace(/\b\s*(webkit|mce|Apple-)\w+\s*\b/g,
"")){q+="class: "+j+" ";if(f.isBlock(l)||m=="img"||m=="span")m+="."+j}m=m.replace(/(html:)/g,"");m={name:m,node:l,title:q};h.onResolveName.dispatch(h,m);q=m.title;m=m.name;l=f.create("a",{href:"javascript:;",onmousedown:"return false;",title:q,"class":"mcePath_"+n++},m);if(g.hasChildNodes()){g.insertBefore(f.doc.createTextNode(" \u00bb "),g.firstChild);g.insertBefore(l,g.firstChild)}else g.appendChild(l)}},a.getBody())}},_sel:function(a){this.editor.execCommand("mceSelectNodeDepth",false,a)},_mceInsertAnchor:function(){var a=
this.editor;a.windowManager.open({url:o.baseURL+"/themes/advanced/anchor.htm",width:320+parseInt(a.getLang("advanced.anchor_delta_width",0)),height:90+parseInt(a.getLang("advanced.anchor_delta_height",0)),inline:true},{theme_url:this.url})},_mceCharMap:function(){var a=this.editor;a.windowManager.open({url:o.baseURL+"/themes/advanced/charmap.htm",width:550+parseInt(a.getLang("advanced.charmap_delta_width",0)),height:250+parseInt(a.getLang("advanced.charmap_delta_height",0)),inline:true},{theme_url:this.url})},
_mceHelp:function(){this.editor.windowManager.open({url:o.baseURL+"/themes/advanced/about.htm",width:480,height:380,inline:true},{theme_url:this.url})},_mceColorPicker:function(a,c){var b=this.editor;c=c||{};b.windowManager.open({url:o.baseURL+"/themes/advanced/color_picker.htm",width:375+parseInt(b.getLang("advanced.colorpicker_delta_width",0)),height:250+parseInt(b.getLang("advanced.colorpicker_delta_height",0)),close_previous:false,inline:true},{input_color:c.color,func:c.func,theme_url:this.url})},
_mceCodeEditor:function(){var a=this.editor;a.windowManager.open({url:o.baseURL+"/themes/advanced/source_editor.htm",width:parseInt(a.getParam("theme_advanced_source_editor_width",720)),height:parseInt(a.getParam("theme_advanced_source_editor_height",580)),inline:true,resizable:true,maximizable:true},{theme_url:this.url})},_mceImage:function(){var a=this.editor;a.dom.getAttrib(a.selection.getNode(),"class").indexOf("mceItem")==-1&&a.windowManager.open({url:o.baseURL+"/themes/advanced/image.htm",width:355+
parseInt(a.getLang("advanced.image_delta_width",0)),height:275+parseInt(a.getLang("advanced.image_delta_height",0)),inline:true},{theme_url:this.url})},_mceLink:function(){var a=this.editor;a.windowManager.open({url:o.baseURL+"/themes/advanced/link.htm",width:310+parseInt(a.getLang("advanced.link_delta_width",0)),height:200+parseInt(a.getLang("advanced.link_delta_height",0)),inline:true},{theme_url:this.url})},_mceNewDocument:function(){var a=this.editor;a.windowManager.confirm("advanced.newdocument",
function(c){c&&a.execCommand("mceSetContent",false,"")})},_mceForeColor:function(){var a=this;this._mceColorPicker(0,{color:a.fgColor,func:function(c){a.fgColor=c;a.editor.execCommand("ForeColor",false,c)}})},_mceBackColor:function(){var a=this;this._mceColorPicker(0,{color:a.bgColor,func:function(c){a.bgColor=c;a.editor.execCommand("HiliteColor",false,c)}})},_ufirst:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}});o.ThemeManager.add("advanced",o.themes.AdvancedTheme)})(tinymce);
